[{"title":"ABP Host+Vue-element-admin前后分离部署IIS","url":"http://553306277.github.io/2019/12/12/ABP Host+Vue-element-admin前后分离部署IIS/","content":"<h1 id=\"Host和vue-elemnet-admin部署\"><a href=\"#Host和vue-elemnet-admin部署\" class=\"headerlink\" title=\"Host和vue-elemnet-admin部署\"></a>Host和vue-elemnet-admin部署</h1><h4 id=\"Host部署参考MVC部署流程，基本一样，Host部署后可以成功打开页面就算OK啦\"><a href=\"#Host部署参考MVC部署流程，基本一样，Host部署后可以成功打开页面就算OK啦\" class=\"headerlink\" title=\"Host部署参考MVC部署流程，基本一样，Host部署后可以成功打开页面就算OK啦\"></a>Host部署参考MVC部署流程，基本一样，Host部署后可以成功打开页面就算OK啦</h4><ul>\n<li>这里有一个跨域问题需要注意</li>\n</ul>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/1.PNG)<strong>在打好的包文件中有一个appsettings.json的配置文件，在里面配置好客户端和服务端的ip端口</strong></p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/2.PNG)</p>\n<p><strong>ServerRootAddress为你的服务端地址</strong></p>\n<p><strong>CorsOrigins为你的客户端地址</strong></p>\n<ul>\n<li>配置好这些直接把包放在IIS上就可以成功访问接口API了</li>\n</ul>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/3.PNG)</p>\n<h2 id=\"vue-element-admin打包部署iis\"><a href=\"#vue-element-admin打包部署iis\" class=\"headerlink\" title=\"vue-element-admin打包部署iis\"></a>vue-element-admin打包部署iis</h2><ul>\n<li>打包</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">npm run build:prod</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">构建打包成功之后，会在根目录生成 dist 文件夹，里面就是构建打包好的文件</span></pre></td></tr></table></figure>\n\n<ul>\n<li>发布</li>\n</ul>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/4.PNG)</p>\n<p>1.在”网站”执行鼠标右键，选择添加网站。<br>2.网站名称：按照用途或者项目起名即可<br>3.应用程序池：部署前端项目，这个可以忽略，任意选择即可<br>4.内容目录：网站存放的路径，最好以英文命名<br>5.端口：web一般是80端口，不过我的80已经被其他项目占用，所以我设置为8082 </p>\n<ul>\n<li><p>访问网站</p>\n<p>访问网站可以在IIS界面右侧直接浏览，不过大家都知道一把部署都不会一次性成功的，开始填坑吧！</p>\n</li>\n</ul>\n<p>我记录下自己在部署中的坑，以免下次遇到</p>\n<ul>\n<li>填坑–报错：URL拼写错误</li>\n</ul>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/5.PNG)</p>\n<p>报错内容：提示URL拼写错误</p>\n<p><strong>在IIS中开启代理和设置URL重写可以解决上述问题</strong></p>\n<p>1.下载所需要的模块: urlrewrite </p>\n<p> 传送门：<a href=\"https://www.iis.net/downloads/microsoft/url-rewrite\" target=\"_blank\" rel=\"noopener\">https://www.iis.net/downloads/microsoft/url-rewrite</a> </p>\n<p>下载安装会比较慢，耐心等等</p>\n<p>2.设置规则–URL规则设置</p>\n<p>安装好模块后会在IIS界面看到一个“URL”重写，双击重写</p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/6.PNG)</p>\n<p>双击后，在URL重写界面选择添加规则</p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/7.PNG)</p>\n<p>选择空白规程</p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/8.PNG)</p>\n<p>注意:</p>\n<p><strong>匹配URL：选择正则表达式，然后在模式根据请求api来填写，比如我请求的api全是‘/api/‘，那我这里就填写 ^((?!(api)).)*$即可</strong> </p>\n<p>手动点开条件</p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/9.PNG)</p>\n<p>添加一个“条件”，选择“不是文件”，具体看上图</p>\n<p>手动点开“操作”选项，设置重写的URL为“/index.html”,然后点应用，我们的URL规则就配置好了</p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/10.PNG)</p>\n<p>3.规则设置-代理设置</p>\n<p>这里需要在补充一个模块</p>\n<p> 传送门：<a href=\"https://www.iis.net/downloads/microsoft/application-request-routing\" target=\"_blank\" rel=\"noopener\">https://www.iis.net/downloads/microsoft/application-request-routing</a> </p>\n<p>开启代理</p>\n<p> 按照好application request routing模块之后再IIS功能视图界面可以看到相关设置，具体见下图： </p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/11.PNG)</p>\n<p> 双击进入设置界面，在右上角找到设置项目，点击进入，具体见下图： </p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/12.PNG)</p>\n<p> Enable proxy 设置为”开启”，在右侧点击”应用”即可，具体见下图： </p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/13.PNG)</p>\n<p>4.规则设置–api规则</p>\n<p>同样在添加一个空白规则</p>\n<p>![](ABP Host+Vue-element-admin前后分离部署IIS/14.PNG)</p>\n<p>匹配URL：使用”通配符”；前端请求的地址是’/api/—-‘，所以模式设置”<em>api/</em>“<br>条件：不需要配置<br>操作：重写URL，比如我请求的实际地址是’ <a href=\"http://192.168.1.7:5000/swagger\" target=\"_blank\" rel=\"noopener\">http://192.168.1.7:5000/swagger</a> ‘，那我这里就填写’<a href=\"https://192.168.1.7:5000/{R:2}&#39;，具体跟实际情况填写\" target=\"_blank\" rel=\"noopener\">https://192.168.1.7:5000/{R:2}&#39;，具体跟实际情况填写</a></p>\n<p>这样我们就可以成功访问接口啦。</p>\n","categories":["环境部署"],"tags":["环境部署"]},{"title":"WebAPI学习","url":"http://553306277.github.io/2019/12/06/WebAPI学习/","content":"<p>#一 什么是WebAPI</p>\n<ul>\n<li>web：网页</li>\n<li>API：接口（一套别人封装的属性和方法）</li>\n<li>webAPI：专门操作网页的方法和属性<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">万物皆对象，在webAPI中把网页中所有元素都当成对象来处理</span></pre></td></tr></table></figure>\n\n</li>\n</ul>\n<p>#二 Restful</p>\n<ul>\n<li>在REST规则中，有两个基础概念：对象、行为</li>\n<li>对象就是我们要操作的对象，例如添加用户的操作，那么对象就是user</li>\n<li>行为有4种常用的：查看、创建、编辑、删除</li>\n<li>rest的提出者很巧妙的利用http现有方法来对应这4种行为：<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">GET - 查看</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">POST - 创建</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">PUT - 编辑</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">DELETE - 删除</span></pre></td></tr></table></figure>\n#三 学习Dome</li>\n<li>创建一个学生实体(Model)<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">public class Students</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">   &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">       public int Id &#123; get; set; &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">       public string Name &#123; get; set; &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">   &#125;</span></pre></td></tr></table></figure></li>\n<li>创建一个学生的控制器(Controllers)<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">public class StudentsController : ApiController</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">    &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">    </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public List&lt;Students&gt; Get() &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">            return new List&lt;Students&gt;() &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\">                new Students&#123; Id&#x3D;1,Name&#x3D;&quot;zhangsan1&quot;&#125;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\">                new Students&#123; Id&#x3D;2,Name&#x3D;&quot;zhangsan2&quot;&#125;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\">                new Students&#123; Id&#x3D;3,Name&#x3D;&quot;zhangsan3&quot;&#125;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\">                new Students&#123; Id&#x3D;4,Name&#x3D;&quot;zhangsan4&quot;&#125;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\">                new Students&#123; Id&#x3D;5,Name&#x3D;&quot;zhangsan5&quot;&#125;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#125;;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">12</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">13</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public string Get(String name)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">14</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">15</span></pre></td><td class=\"code\"><pre><span class=\"line\">            return &quot;你传入的参数是&quot; + name;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">16</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">17</span></pre></td><td class=\"code\"><pre><span class=\"line\"></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">18</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public void Post(Students stu) </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">19</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#123; </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">20</span></pre></td><td class=\"code\"><pre><span class=\"line\">              throw new Exception(&quot;错了&quot;);</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">21</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">22</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public void Put(int Id,Students stu) &#123; </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">23</span></pre></td><td class=\"code\"><pre><span class=\"line\">        </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">24</span></pre></td><td class=\"code\"><pre><span class=\"line\">        </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">25</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">26</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public void Delete(int id) &#123; </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">27</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">28</span></pre></td><td class=\"code\"><pre><span class=\"line\">    &#125;</span></pre></td></tr></table></figure></li>\n<li>前端用Ajax请求Josn<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;get请求返回data数据</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">    url: &quot;&#x2F;api&#x2F;Students?name&#x3D;白晨星&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">    type: &quot;get&quot;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;).done(function (data) &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\">    console.log(data);</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;post请求给存值</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\">    url: &quot;&#x2F;api&#x2F;Students&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\">    type: &quot;post&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">12</span></pre></td><td class=\"code\"><pre><span class=\"line\">    data: &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">13</span></pre></td><td class=\"code\"><pre><span class=\"line\">        Id:1,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">14</span></pre></td><td class=\"code\"><pre><span class=\"line\">        Name:&quot;wangwu&quot;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">15</span></pre></td><td class=\"code\"><pre><span class=\"line\">    &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">16</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;).done(function () &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">17</span></pre></td><td class=\"code\"><pre><span class=\"line\">    console.log(&quot;成功&quot;)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">18</span></pre></td><td class=\"code\"><pre><span class=\"line\"></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">19</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;).fail(function () &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">20</span></pre></td><td class=\"code\"><pre><span class=\"line\">    console.log(&quot;失败&quot;)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">21</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">22</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;put请求通过Id修改值</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">23</span></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">24</span></pre></td><td class=\"code\"><pre><span class=\"line\">    url: &quot;&#x2F;api&#x2F;Students&#x2F;1&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">25</span></pre></td><td class=\"code\"><pre><span class=\"line\">    type: &quot;Put&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">26</span></pre></td><td class=\"code\"><pre><span class=\"line\">    data: &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">27</span></pre></td><td class=\"code\"><pre><span class=\"line\">        Id: 12,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">28</span></pre></td><td class=\"code\"><pre><span class=\"line\">        Name:&quot;白晨星&quot;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">29</span></pre></td><td class=\"code\"><pre><span class=\"line\">    &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">30</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">31</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;delete请求通过Id删除数据</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">32</span></pre></td><td class=\"code\"><pre><span class=\"line\">$.ajax(&#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">33</span></pre></td><td class=\"code\"><pre><span class=\"line\">    url: &quot;&#x2F;api&#x2F;students&#x2F;1&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">34</span></pre></td><td class=\"code\"><pre><span class=\"line\">    type: &quot;delete&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">35</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;)</span></pre></td></tr></table></figure>\n<h1 id=\"四-自定义\"><a href=\"#四-自定义\" class=\"headerlink\" title=\"四 自定义\"></a>四 自定义</h1></li>\n<li>创建一个user实体<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">public class User</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">   &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">       public string Admin &#123; get; set; &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">       public string Pwd &#123; get; set; &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">   &#125;</span></pre></td></tr></table></figure></li>\n<li>创建一个user的控制器<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">public class UserController : ApiController</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">    &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">        [HttpPost]&#x2F;&#x2F;没有用restful风格，需要自己定制用那种类型来处理</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">        [Route(&quot;Login&quot;)]</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public string Login(User  user) </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\">            return &quot;OK&quot;;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\">        [HttpGet]</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\">        [Route(&quot;Message&quot;)]</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\">        public IHttpActionResult GetMessage() &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">12</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#x2F;&#x2F;ok  200   &#x2F;&#x2F;成功</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">13</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#x2F;&#x2F;notfound   404    </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">14</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#x2F;&#x2F;InternalServerError  500 服务器错误</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">15</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#x2F;&#x2F; return InternalServerError(new Exception(&quot;nicuo l &quot;));       </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">16</span></pre></td><td class=\"code\"><pre><span class=\"line\">            return Ok(new Students()</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">17</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">18</span></pre></td><td class=\"code\"><pre><span class=\"line\">                Id &#x3D; 80,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">19</span></pre></td><td class=\"code\"><pre><span class=\"line\">                Name &#x3D; &quot;及格了&quot;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">20</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#125;);</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">21</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">22</span></pre></td><td class=\"code\"><pre><span class=\"line\">    &#125;</span></pre></td></tr></table></figure></li>\n<li>Ajax处理<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#x2F;&#x2F;根据自定义的url给服务器传data数据 验证登录账号和密码</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"> $.ajax(&#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">            url: &quot;&#x2F;api&#x2F;User&#x2F;Login&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">            type: &quot;post&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">            data: &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\">                Admin: &quot;admin&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\">                Pwd:&quot;123456&quot;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\">            &#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\"></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\">        $.ajax(&#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">12</span></pre></td><td class=\"code\"><pre><span class=\"line\">            url: &quot;&#x2F;api&#x2F;User&#x2F;Message&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">13</span></pre></td><td class=\"code\"><pre><span class=\"line\">            type: &quot;get&quot;,</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">14</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;).done(function (data) &#123;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">15</span></pre></td><td class=\"code\"><pre><span class=\"line\">            console.log(&quot;成功了&quot;,data)</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">16</span></pre></td><td class=\"code\"><pre><span class=\"line\">        &#125;)</span></pre></td></tr></table></figure>\n\n\n\n</li>\n</ul>\n","categories":[".net"],"tags":[".net","后端"]},{"title":"JavaScript-对象-数字","url":"http://553306277.github.io/2019/12/06/JavaScript-对象-数字/","content":"<h1 id=\"JavaScript\"><a href=\"#JavaScript\" class=\"headerlink\" title=\"JavaScript\"></a>JavaScript</h1><ul>\n<li><p>JavaScript中的对象是有着属性和方法的一种特殊数据类型</p>\n</li>\n<li><p>常见的对象有数字Number，字符串String，日期Date，数组Array等。</p>\n</li>\n</ul>\n<h5 id=\"创建一个数字对象\"><a href=\"#创建一个数字对象\" class=\"headerlink\" title=\"创建一个数字对象\"></a>创建一个数字对象</h5><p>可以通过new Number()创建一个数字对象</p>\n<p>与基本类型的数字不同，对象类型的数字，拥有更多的属性和方法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">运行效果</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">数字对象x的值:123</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">数字对象x的类型:object</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">基本类型y的值:123</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">基本类型y的类型:number</span></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"keyword\">var</span> x = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"number\">123</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">'数字对象x的值:'</span>+x);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">'数字对象x的类型:'</span>+<span class=\"keyword\">typeof</span> x); <span class=\"comment\">//通过typeof 获知这是一个object</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"actionscript\"><span class=\"keyword\">var</span> y = <span class=\"number\">123</span>;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">'基本类型y的值:'</span>+y);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">'基本类型y的类型:'</span>+<span class=\"keyword\">typeof</span> y); <span class=\"comment\">//通过typeof 获知这是一个number</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></pre></td></tr></table></figure>\n\n<h5 id=\"最小值-最大值\"><a href=\"#最小值-最大值\" class=\"headerlink\" title=\"最小值 最大值\"></a>最小值 最大值</h5><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">Number对象能够去到的最大值和最小值</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">Number对象的最小值:5e-324</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">Number对象的最大值:1.7976931348623157e+308</span></pre></td></tr></table></figure>\n\n\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">'Number对象的最小值:'</span>+<span class=\"built_in\">Number</span>.MIN_VALUE);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"> <span class=\"built_in\">document</span>.write(<span class=\"string\">'Number对象的最大值:'</span>+<span class=\"built_in\">Number</span>.MAX_VALUE);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></pre></td></tr></table></figure>\n\n\n\n<h5 id=\"表示不是数字\"><a href=\"#表示不是数字\" class=\"headerlink\" title=\"表示不是数字\"></a>表示不是数字</h5><p> <strong>NaN</strong>(Not a Number),表示不是一个数字<br>当通过非数字创建Number的时候，就会得到NaN.<br>注意： 不能通过 是否等于Number.NaN来判断 是否 “不是一个数字”，应该使用函数 isNaN() </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">通过非数字字符串&quot;123abc&quot;创建出来的Number对象 a的值是：NaN</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">但是, a&#x3D;&#x3D;Number.NaN会返回:false</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">正确判断是否是NaN的方式是调用isNaN函数:true</span></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"actionscript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">p</span><span class=\"params\">(s)</span></span>&#123;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(s);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"string\">\"123abc\"</span>); <span class=\"comment\">//通过非数字创建Number对象，得到的是一个NaN</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"actionscript\">p(<span class=\"string\">'通过非数字字符串\"123abc\"创建出来的Number对象 a的值是：'</span>+a);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">p(<span class=\"string\">'但是, a==Number.NaN会返回:'</span>+(a==<span class=\"built_in\">Number</span>.NaN)); <span class=\"comment\">//即便是一个NaN 也\"不等于\" Number.NaN</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">12</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">p(<span class=\"string\">'正确判断是否是NaN的方式是调用isNaN函数:'</span>+<span class=\"built_in\">isNaN</span>(a)); <span class=\"comment\">//正确的方式是通过isNaN() 函数进行判断</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">13</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">14</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></pre></td></tr></table></figure>\n\n<ul>\n<li><p>isNaN() 函数用于检查其参数是否是非数字值。</p>\n</li>\n<li><p>如果参数值为 NaN 或字符串、对象、undefined等非数字值则返回 true, 否则返回 false。</p>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.write(<span class=\"built_in\">isNaN</span>(<span class=\"number\">123</span>)+<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">    <span class=\"built_in\">document</span>.write(<span class=\"built_in\">isNaN</span>(<span class=\"number\">0</span>)+<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">\t<span class=\"built_in\">document</span>.write(<span class=\"built_in\">isNaN</span>(<span class=\"number\">5</span><span class=\"number\">-2</span>)+<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">\t<span class=\"built_in\">document</span>.write(<span class=\"built_in\">isNaN</span>(<span class=\"number\">-1</span>)+<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">\t<span class=\"built_in\">document</span>.write(<span class=\"built_in\">isNaN</span>(<span class=\"string\">\"Hello\"</span>)+<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">\t<span class=\"built_in\">document</span>.write(<span class=\"built_in\">isNaN</span>(<span class=\"string\">'2005/12/12'</span>)+<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">false</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">false</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\">false</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\">false</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">true</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\">true</span></pre></td></tr></table></figure>\n\n<h5 id=\"返回一个数字的小数表达\"><a href=\"#返回一个数字的小数表达\" class=\"headerlink\" title=\"返回一个数字的小数表达\"></a>返回一个数字的小数表达</h5><p> toFixed返回一个数字的小数表达 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">数字对象123通过toFixed(2) 保留两位小数:123.00</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\">PI 通过toFixed(3) 保留三位小数:3.142</span></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">2</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"actionscript\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">p</span><span class=\"params\">(s)</span></span>&#123;</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">3</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(s);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">4</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\">  <span class=\"built_in\">document</span>.write(<span class=\"string\">\"&lt;br&gt;\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">5</span></pre></td><td class=\"code\"><pre><span class=\"line\">&#125;</span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">6</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">7</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">var</span> a = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"string\">\"123\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">8</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">9</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"actionscript\">p(<span class=\"string\">\"数字对象123通过toFixed(2) 保留两位小数:\"</span>+a.toFixed(<span class=\"number\">2</span>)); <span class=\"comment\">//保留两位小数点</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">10</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">11</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">var</span> b = <span class=\"keyword\">new</span> <span class=\"built_in\">Number</span>(<span class=\"string\">\"3.1415926\"</span>);</span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">12</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">13</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"actionscript\">p(<span class=\"string\">\"PI 通过toFixed(3) 保留三位小数:\"</span>+b.toFixed(<span class=\"number\">3</span>));<span class=\"comment\">//保留三位小数点</span></span></span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">14</span></pre></td><td class=\"code\"><pre><span class=\"line\"> </span></pre></td></tr><tr><td class=\"gutter\"><pre><span class=\"line\">15</span></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></pre></td></tr></table></figure>\n\n","categories":["JavaScript"],"tags":["Web前端","JavaScript"]},{"title":"在IIS上部署ABP-MVC版总结","url":"http://553306277.github.io/2019/12/06/在IIS上部署项目总结/","content":"<p>#发布前的准备</p>\n<ul>\n<li><p>一般情况下先需要安装这三个<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-60d9e94286f7eae1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>保证项目模块里面有这两个<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-9655a6c388c451a4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>查看配置环境<br>在cmd执行</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">dotnen --info</span></pre></td></tr></table></figure>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/18844140-2aa1f50f06e4b83a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>##打包项目</p>\n</li>\n<li><p>鼠标右击你要发布的项目选择发布<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-423d2a971c0f8758.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"20190430094158117.png\"></p>\n</li>\n<li><p>配置发布路径(准备一个空的文件夹)，选择发布方法为 文件系统<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-2a8037b5e456777f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>点击设置，如图配置，切记选择发布前删除所有现有文件<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-89200dffd18d0b91.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>配置好后点击发布<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-69cf4093f8f1a16a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>发布成功后文件夹里会有很多打包好的文件<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-2adce9d09db93d80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n</ul>\n<p>##安装IIS管理器</p>\n<ul>\n<li>在控制面版中找到程序与功能<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-165738dad2f49ebe.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></li>\n<li>打开启用或关闭Windows功能安装所需要的</li>\n</ul>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/18844140-122c025225e1db98.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n<ul>\n<li>打上勾后点击确定会自动安装，安装好后打开IIS管理器（在开始里面的windows工具里）<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-47d6c155857ca34c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></li>\n<li>打开IIS管理器配置网站<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-9739dd16d7ad6ac0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></li>\n<li>填写信息，路径选择刚在打包好的路径<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-c36348ae54a17049.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>在 网站 上右击选择 添加网站，输入自定义网站名（可以是项目名，比较好找），选择物理路径（项目发布文件的路径），接下来设置端口号，一定要设置且不能重复。80端口默认的不能使用，随便输入一个没有被用过的即可。主机名不要填，否则别人访问不了。点击确定就好了。</li>\n<li>这样你的项目就IIS上布置好了<br>##常见的错误</li>\n<li>先配置如何看日志，方便分析错误</li>\n</ul>\n<p>1.打包的文件里面有最后面有一个叫web.config的文件，打开文件将<br>stdoutLogEnabled=”false”  改为true 后会生成一个logs文件夹，如果没有手动创建下<br>日志文件就会在logs文件里。</p>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/18844140-7db9c93955d8a031.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>##连接本机数据库</p>\n<ul>\n<li><p>打开sqlserver选择登录名，右击选择新建登录名<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-4cee9dd5a7451b24.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>点击搜索，选择高级，点击立即查找，选择SERVICE后点确定<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-d722cdb5c5cc0cd5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-0a9d850c6c5d0793.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-e62b865dc5369b6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-bee97895bf3f83c1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-b398e5ec2386f80e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>选择服务器角色<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-e50843a796081534.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"></p>\n</li>\n<li><p>配置IIS应用程序池，选择自己的项目右击选择高级设置，如图改标识<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-30f6889549138ccf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>这样数据库就和项目连上了</p>\n</li>\n<li><p>在部署项目中遇到的另一个坑，（delete请求报404）<br>解决方法：<br>安装IIS的时候如果选择了WebDAV(Web Distribution Authorization Versioning) Publish,则所有的Web Site默认会应用WebDAV Module和WebDAV Handler.<br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-3c290df0f8edb475.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br><img src=\"https://upload-images.jianshu.io/upload_images/18844140-f1cd17bd2913f96c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"image.png\"><br>WebDAV是基于HTTP协议的扩展，添加了很多Method用于管理服务器上的文件</p>\n</li>\n</ul>\n<p>WebDAV Module和WebDAV Handler<br>WebDAV Handler的默认配置是处理如下 Method:PROPFIND,PROPPATCH,MKCOL,PUT,COPY,DELETE,MOVE,LOCK,UNLOCK。(可以参考%userprofile%/documents/iisexpress/config/applicationhost.config中的配置)因此PUT和DELETE请求会被Dispatch给WebDAV Handler来处理,但是我们一般不会Enable WebDAV功能。因此Delete和Put请求会被拒绝。</p>\n<ul>\n<li>解决办法　　　　　　　　　　　　　　<br>既然根本原因是WebDAV,最直接的解决办法就是移除WebDAV(一般情况下我们不会用到该功能)。移除有如下几种方法：<br>直接从系统中移除WebDAV Publish的整个功能(参考上面打开WebDAV Publish的截图)<br>在Web Site的web.config中移除WebDAVModule和WebDAVHandler<br>&lt;system.webServer&gt;  <modules>\n    <remove name=\"“WebDAVModule”/\">\n </remove></modules>\n <handlers>\n   <remove name=\"“WebDAV”/\">\n </remove></handlers>\n\n<meta charset=\"utf-8\">\n\n</li>\n</ul>\n<h1 id=\"ASP-Net-Core-运行错误-Http-Error-502-5-解决办法\"><a href=\"#ASP-Net-Core-运行错误-Http-Error-502-5-解决办法\" class=\"headerlink\" title=\"ASP.Net Core 运行错误 Http Error 502.5 解决办法\"></a>ASP.Net Core 运行错误 Http Error 502.5 解决办法</h1><h1 id=\"Http-Error-502-5-Process-Failure\"><a href=\"#Http-Error-502-5-Process-Failure\" class=\"headerlink\" title=\"Http Error 502.5 - Process Failure\"></a>Http Error 502.5 - Process Failure</h1><p><img src=\"//upload-images.jianshu.io/upload_images/1979022-bf23d37cd9d793b9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp\" alt=\"image\"></p>\n<p>如果你看到上面这张图片了的话，说明你在本地运行的时候报错了。<br>尤其好多都是我的群友，说下情况。</p>\n<p>这个一般是本地的.NET Core SDK版本不统一报错造成的。</p>\n<h2 id=\"原因\"><a href=\"#原因\" class=\"headerlink\" title=\"原因\"></a>原因</h2><p>当时的项目版本为.NET CORE 2.0，所以现在有很多群友下载然后运行就报错了。<br>现在是因为下载的SDK是2.1 。所以版本对应不上就GG 了。<br>理论上来说.NET CORE 2.1X是需要进行向下兼容的。但是不知道为什么这把就没有做好。<br>原因：项目的SDK版本和运营环境的SDK版本对应不上。<br>解决方案有两种，一种是升级项目的.NET CORE版本，还有一种就是安装对应的.NET CORE版本。</p>\n<h2 id=\"解决思路\"><a href=\"#解决思路\" class=\"headerlink\" title=\"解决思路\"></a>解决思路</h2><p>首先你要去找你的IIS报错日志，得到的<code>错误代码 ErrorCode = &#39;0x80004005 : 8000808c.</code>是这个的话，那就可以通过我说的办法来解决了。</p>\n<h2 id=\"第一种\"><a href=\"#第一种\" class=\"headerlink\" title=\"第一种\"></a>第一种</h2><p>通过直接修改web.config 的文件。</p>\n<p><img src=\"//upload-images.jianshu.io/upload_images/1979022-646170e53904864a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1032/format/webp\" alt=\"image\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;aspNetCore processPath&#x3D;&quot;dotnet&quot; arguments&#x3D;&quot;.\\LTM.School.dll&quot; stdoutLogEnabled&#x3D;&quot;false&quot; stdoutLogFile&#x3D;&quot;.\\logs\\stdout&quot; &#x2F;&gt;</span></pre></td></tr></table></figure>\n\n<p>将 <code>processPath=&quot;dotnet&quot;</code>改成你安装的.NET CORE SDK路径，一般默认在”C:\\Program Files\\dotnet\\dotnet.exe”路径下，替换下就可以解决了。</p>\n<blockquote>\n<p>这种一般是常规加临时解决方案，不稳定。</p>\n</blockquote>\n<h2 id=\"第二种\"><a href=\"#第二种\" class=\"headerlink\" title=\"第二种\"></a>第二种</h2><p><strong>下载对应版本的SDK</strong>地址：<a href=\"https://www.microsoft.com/net/download/archives\" target=\"_blank\" rel=\"noopener\">https://www.microsoft.com/net/download/archives</a></p>\n<p><img src=\"//upload-images.jianshu.io/upload_images/1979022-2b3ea471f6a0b273.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/342/format/webp\" alt=\"image\"></p>\n<p>找到对应的大版本，然后里面有具体的版本信息。</p>\n<blockquote>\n<p>但是有个问题，你如果已经装了高版本的SDK，是无法安装低版本的SDK的，所以也不推荐这个办法。</p>\n</blockquote>\n<h1 id=\"第三种【推荐办法】\"><a href=\"#第三种【推荐办法】\" class=\"headerlink\" title=\"第三种【推荐办法】\"></a>第三种【推荐办法】</h1><p>升级你项目的SDK.比如<a href=\"https://github.com/52ABP/52ABP.School\" target=\"_blank\" rel=\"noopener\">https://github.com/52ABP/52ABP.School</a> 的.NET Core版本就是2.0，直接升级到2.1后，发布环境，所有的问题迎刃而解。</p>\n<blockquote>\n<p>.NET Core 还很年轻，大家多给他点时间。相信他会改变不一样的开发环境</p>\n</blockquote>\n","categories":["环境部署"],"tags":["环境部署"]},{"title":"about","url":"http://553306277.github.io/about/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://553306277.github.io/link/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"http://553306277.github.io/category/index.html","content":"","categories":[],"tags":[]},{"title":"project","url":"http://553306277.github.io/project/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://553306277.github.io/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://553306277.github.io/tag/index.html","content":"","categories":[],"tags":[]}]